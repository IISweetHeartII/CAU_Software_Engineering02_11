@startuml MovePiece.puml
title «MovePiece» – 스텝별 이동·캡처 로직

control  GameController as ctl
entity   GameManager    as gm
entity   BoardManager   as board

== 스텝 반복 ==
loop step = 1 .. yut.getSteps()
    ctl -> gm : movePiece(id, dest)
    gm  -> board : setPreviousPosition(...)
    board --> gm : newPos
    gm  --> ctl  : Map<String,String> updatedMap
end

== 캡처 여부 확인 ==
ctl -> gm : isCurrentPlayersPiecePresent(dest)?
alt dest เก 기존 상대 Piece 존재
    ctl -> gm : group(piece, captured)  '묶음/포획
    gm  -> ctl : capturedInfo
    ctl -> gm : setExtraTurn(true)
else noCapture
end
@enduml


' @startuml 
' title «MovePiece» – 스텝 이동·캡처 처리

' control GameController as ctl
' entity  GameManager    as gm
' entity  BoardManager   as board
' entity  Piece          as piece

' loop step=1..yut.getSteps()
'     ctl -> gm    : movePiece(id,start→dest)
'     gm  -> board : setPreviousPosition(...)
'     board --> gm : newPos
' end
' alt dest에 상대 Piece 존재
'     ctl -> gm : group(piece,captured)
'     gm  -> ctl : capturedInfo
'     ctl -> ctl : setDetectedCapture(true)
' else noCapture
'     ctl -> ctl : setDetectedCapture(false)
' end
' @enduml
